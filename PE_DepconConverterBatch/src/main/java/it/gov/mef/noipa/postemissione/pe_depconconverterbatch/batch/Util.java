package it.gov.mef.noipa.postemissione.pe_depconconverterbatch.batch;

import java.lang.reflect.Field;

public class Util {

	public static void clearSpaceAndUpperCase(Object obj) throws IllegalArgumentException, IllegalAccessException {
		for (Field field : obj.getClass().getDeclaredFields()) {
		    field.setAccessible(true); // You might want to set modifier to public first.
		    Object value = field.get(obj); 
		    if (value != null) {
		    	if (value.getClass().equals(String.class)){
			        value = ((String)value).trim().toUpperCase();
			        field.set(obj, value);	

		    	} else {
		    		if (!value.getClass().isEnum() && value.getClass().getPackage().getName().indexOf("it.gov.mef.noipa.postemissione.parser.autogenerated") != -1){
			    		clearSpaceAndUpperCase(value);
		    		} else {
//				    	System.out.println("NO " + value.getClass() + " value: "+ field.getName());
		    		}
		    	}
		    }
		}
	}

	public static String clearField(String str) {
		
		if (str==null){ 
			return null;
		}
		
		str = str.trim().toLowerCase();
		str = str.replaceAll("à", "a'");
		str = str.replaceAll("è", "e'");
		str = str.replaceAll("é", "e'");
		str = str.replaceAll("ì", "i'");
		str = str.replaceAll("ò", "o'");
		str = str.replaceAll("ù", "u'");
		str = str.replaceAll(" +", " ");
		return str.toUpperCase();
	}
}
